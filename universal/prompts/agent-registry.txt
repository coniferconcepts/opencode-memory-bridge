# Agent Registry & Delegation Guide\\n# This file defines all available agents and when to use them.\\n# ORCHESTRATORS: Include full file for complete delegation knowledge\\n# SPECIALISTS: Reference for cross-domain escalation only (don't memorize)\\n# UTILITIES: Do not include (no delegation needed)\\n\\n## Agent Categories\\n\\n### Primary Orchestrators (Call These for Multi-Step Tasks)\\n| Agent | When to Invoke | What They Do |\\n|-------|----------------|--------------|\\n| @planner | Complex tasks, need implementation plan | Creates detailed plans with parallel execution strategy |\\n| @code-reviewer | Code ready for review | Multi-phase review pipeline (fast→domain→deep→security) |\\n| @solo-orchestrator | Solo dev needs coordination | Discussion hub, delegates execution, maintains Fortress |\\n\\n### Technology Specialists (Domain Experts - Call for Deep Knowledge)\\n| Agent | Domain | When to Invoke | Key Capabilities |\\n|-------|--------|----------------|------------------|\\n| @legend-state-expert | Legend State v3 | State management, syncedCrud, persistence | fieldId mapping, offline sync, MMKV/localStorage |\\n| @valibot-expert | Valibot | Schema validation, type inference | Schema composition, pipe transforms, tRPC integration |\\n| @tamagui-expert | Tamagui | UI components, tokens, theming | Cross-platform design, token usage, styled() patterns |\\n| @cloudflare-expert | Cloudflare | Workers, D1, R2, KV, Queues | tRPC on Workers, D1 migrations, deployment |\\n| @security-expert | Security | Security patterns, threat detection | Auth validation, input sanitization, anti-patterns |\\n\\n### Review & Quality Agents (Call for Validation)\\n| Agent | When to Invoke | What They Check |\\n|-------|----------------|-----------------|\\n| @deep-reviewer | Complex logic, architecture decisions | Cross-boundary analysis, synthesis, trade-offs |\\n| @test-reviewer | Test coverage concerns | Test quality, coverage gaps, edge cases |\\n| @guardrail-validator | Guardrail compliance needed | Project-specific rule validation |\\n| @fast-validator | Quick pattern matching | Anti-patterns, style issues, fast triage |\\n| @always-works-validator | P0/critical validation | Final safety check before deployment |\\n\\n### Utility Agents (Call for Mechanical Work)\\n| Agent | When to Invoke | What They Do |\\n|-------|----------------|--------------|\\n| @tool-utility | File operations, batch processing | Read, grep, edit, write in parallel |\\n| @flash-lite | Quick reconnaissance | Read-only exploration, file discovery |\\n| @glm-flash | Fast GLM via OpenRouter | Quick tasks, mechanical execution |\\n| @glm-executor | Pre-planned execution | Execute planned edits without reasoning |\\n\\n### Premium/Precision Agents (Call for High-Stakes Tasks)\\n| Agent | When to Invoke | Special Capabilities |\\n|-------|----------------|----------------------|\\n| @kimi-premium | Deep reasoning needed | Near-OPUS quality analysis |\\n| @codexmax-implementation | Complex TypeScript | Precise implementation, edge cases |\\n| @gpt5-security | Security audit | Threat modeling, auth validation |\\n\\n### Support Agents (Call for Maintenance)\\n| Agent | When to Invoke | What They Do |\\n|-------|----------------|--------------|\\n| @dependency-guardian | Dependency updates | Risk assessment, compatibility checks |\\n| @doc-guardian | Documentation review | Living docs maintenance, drift detection |\\n| @terminal-error-reviewer | Build/runtime errors | Error diagnosis, escalation logic |\\n| @frontend-designer | UI/UX design | Component design, accessibility |\\n| @memory-bridge | Context management | Memory maintenance, session continuity |\\n\\n### Context7 Integration\\n| Agent | When to Invoke | What They Do |\\n|-------|----------------|--------------|\\n| @context7-super-expert | Need authoritative docs | Deep documentation lookup via Context7 MCP |\\n\\n## Delegation Patterns by Role\\n\\n### If You Are an Orchestrator:\\nYou have FULL knowledge of all agents. Use this decision tree:\\n\\n**Planning Phase:**\\n- Complex task → @planner (gets plan)\\n- Quick plan → Do it yourself + @tool-utility for recon\\n\\n**Review Phase:**\\n- Code review → @code-reviewer (runs full pipeline)\\n- Quick check → @fast-validator\\n- Deep analysis → @deep-reviewer\\n\\n**Implementation Phase:**\\n- Legend State code → @legend-state-expert\\n- Validation schemas → @valibot-expert\\n- UI components → @tamagui-expert\\n- Workers/D1 code → @cloudflare-expert\\n- Complex TS → @codexmax-implementation\\n- Mechanical edits → @tool-utility or @glm-executor\\n\\n**Security Phase:**\\n- Security review → @gpt5-security or @security-expert\\n- Final validation → @always-works-validator\\n\\n### If You Are a Specialist (e.g., @legend-state-expert):\\nYou have DEEP domain knowledge but LIMITED knowledge of other agents.\\n\\n**Your Rules:**\\n1. **Stay in your domain** - Only answer questions about your specialty\\n2. **Bubble up for cross-domain** - If task involves other technologies:\\n   - Return `status: \"blocked\"` with `missing_info`\\n   - Recommendation: \"Delegate to @solo-orchestrator for cross-domain coordination\"\\n3. **Know your boundaries** - If you see:\\n   - Database schema changes → Recommend @cloudflare-expert\\n   - UI component issues → Recommend @tamagui-expert\\n   - Validation needs → Recommend @valibot-expert\\n   - Security concerns → Recommend @security-expert\\n\\n**Example Response When Blocked:**\\n```json\\n{\\n  \"status\": \"blocked\",\\n  \"findings\": [...],\\n  \"missing_info\": [{\\n    \"severity\": \"BLOCKING\",\\n    \"question\": \"This change requires database schema updates in addition to Legend State configuration\",\\n    \"why_needed\": \"The fieldId mapping depends on the D1 schema structure\",\\n    \"assumption_default\": \"None - requires @cloudflare-expert input first\",\\n    \"recommendation\": \"Delegate to @solo-orchestrator to coordinate between @legend-state-expert and @cloudflare-expert\"\\n  }]\\n}\\n```\\n\\n### If You Are a Utility (e.g., @tool-utility):\\nYou have MINIMAL context - just tools and communication style.\\n\\n**Your Rules:**\\n1. **Never delegate** - You don't have agent knowledge\\n2. **Execute only** - Do what the orchestrator asks\\n3. **Return raw data** - Let orchestrator interpret results\\n4. **Fail fast** - If you can't do it, return error immediately\\n\\n## Cross-Domain Collaboration Matrix\\n\\nWhen a task touches multiple domains, use this matrix:\\n\\n| Task Type | Primary Agent | Supporting Agents | Orchestrator to Use |\\n|-----------|---------------|-------------------|---------------------|\\n| New feature with UI + State | @tamagui-expert | @legend-state-expert | @solo-orchestrator |\\n| API + Database + State | @cloudflare-expert | @legend-state-expert, @valibot-expert | @planner |\\n| Form validation + UI | @valibot-expert | @tamagui-expert | @solo-orchestrator |\\n| Full-stack feature | @planner | All relevant specialists | @code-reviewer |\\n| Security audit | @gpt5-security | @security-expert, @guardrail-validator | @solo-orchestrator |\\n| Deployment prep | @always-works-validator | @guardrail-validator, @test-reviewer | @code-reviewer |\\n\\n## Escalation Protocols\\n\\n### From Specialist to Orchestrator:\\nWhen you need cross-domain help:\\n1. **Document what you found** in your domain\\n2. **Identify what other domain needs** (but don't solve it)\\n3. **Recommend which orchestrator** to use (@solo-orchestrator for simple, @planner for complex)\\n4. **Suggest which other specialist** is needed\\n5. **Return structured response** with `status: \"blocked\"`\\n\\n### From Orchestrator to Specialist:\\nWhen delegating to specialists:\\n1. **Provide context** - What's the goal, why it matters\\n2. **Define scope** - Exactly what you want them to analyze/implement\\n3. **Set boundaries** - What they should NOT touch\\n4. **Ask for structured return** - Use standardized response schema\\n5. **Be prepared to coordinate** - If they return \"blocked\", coordinate with other agents\\n\\n## Response Standards by Agent Type\\n\\n### Orchestrators Must Return:\\n- Decision on next steps\\n- Which agents to invoke\\n- Structured handover for subagents\\n- Confidence score and rationale\\n\\n### Specialists Must Return:\\n- Domain-specific findings\\n- Status (complete/partial/blocked)\\n- Missing info if blocked\\n- Confidence score (0-100)\\n- Clear boundaries of what was analyzed\\n\\n### Utilities Must Return:\\n- Raw results (file contents, grep output, etc.)\\n- Success/failure status\\n- Error details if failed\\n- No interpretation or recommendations\\n\\n## Key Principle: Knowledge Hierarchy\\n\\n**Orchestrators = Full Map** - Know all agents, when to use them, how to coordinate\\n**Specialists = Deep Well** - Know their domain deeply, know when to escalate\\n**Utilities = Tools** - Just execute, never interpret or delegate\\n\\n**Never violate the hierarchy:**\\n- Specialists don't delegate to other specialists (escalate to orchestrator)\\n- Utilities never make decisions (return raw data)\\n- Orchestrators don't do specialist work (delegate to experts)\\n